Index: include/net/vxlan.h
===================================================================
--- a/include/net/vxlan.h
+++ b/include/net/vxlan.h
@@ -433,6 +433,7 @@ static inline bool vxlan_addr_multicast(
 
 static inline bool netif_is_vxlan(const struct net_device *dev)
 {
+	if(!dev) return false;
 	return dev->rtnl_link_ops &&
 	       !strcmp(dev->rtnl_link_ops->kind, "vxlan");
 }
