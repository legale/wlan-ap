From 2d2d91127362c531c733bd7b493f592c32e9200a Mon Sep 17 00:00:00 2001
From: Felix Fietkau <nbd@nbd.name>
Date: Tue, 1 Mar 2022 17:03:50 +0100
Subject: [PATCH 7/7] toolchain/gcc: fix building gcc 5.5 on newer systems

Signed-off-by: Felix Fietkau <nbd@nbd.name>
---
 toolchain/gcc/patches/5.5.0/003-build_fix.patch | 11 +++++++++++
 1 file changed, 11 insertions(+)
 create mode 100644 toolchain/gcc/patches/5.5.0/003-build_fix.patch

diff --git a/toolchain/gcc/patches/5.5.0/003-build_fix.patch b/toolchain/gcc/patches/5.5.0/003-build_fix.patch
new file mode 100644
index 0000000000..9602cd3b1c
--- /dev/null
+++ b/toolchain/gcc/patches/5.5.0/003-build_fix.patch
@@ -0,0 +1,11 @@
+--- a/gcc/reload.h
++++ b/gcc/reload.h
+@@ -168,7 +168,7 @@ struct target_reload {
+      value indicates the level of indirect addressing supported, e.g., two
+      means that (MEM (MEM (REG n))) is also valid if (REG n) does not get
+      a hard register.  */
+-  bool x_spill_indirect_levels;
++  unsigned char x_spill_indirect_levels;
+ 
+   /* True if caller-save has been reinitialized.  */
+   bool x_caller_save_initialized_p;
-- 
2.25.1

